Configuration Setup JSON
------------------------
During the sensor and reference setup methods, a record of the setup configuration
is saved locally to a ``setup.json`` file. This file is used to indicate to the
ingestion module how the data should be interpreted into either the S-DFS or R-DFS formatting scheme
for sensor or reference data, respectively.

Sensor ``setup.json``
^^^^^^^^^^^^^^^^^^^^^
Setup.json files are generated by running the Setup module and contain information
about recorded sensor datasets that is used by the standard ingestion module

As sensors often record data with different formatting and header naming schemes,
these files assist in converting data recorded in their original format into S-DFS
scheme for parameter data names and date/time formatting.

The sensor setup.json file is named ``[sensor_name]_setup.json`` where ``[sensor_name]``
is the name assigned to the sensor via ``sensor_object.name``. This file is located within
the users' project directory in the following relative path:
``\Data and Figures\sensor_data\[sensor_name]\[sensor_name]_setup.json``

.. code-block:: json

  {
      "name": "Example_Make_Model",
      "work_path": "C:/Users/.../Documents/my_evaluation",
      "dtype": ".csv",
      "all_col_headers": [
          "Time",
          "NO2 (ppb)",
          "O3 (ppb)",
          "PM2.5 (\u00b5g/m\u00b3)",
          "TEMP (\u00b0C)",
          "RH (%)",
          "DP (\u00b0C)",
          "Inlet"
      ],
      "timestamp_col_headers": [
          "Time"
      ],
      "drop_cols": [
          "Inlet"
      ],
      "header_iloc": 5,
      "file_list": [
          "C:/Users/.../Documents/test_dir/Data and Figures/sensor_data/Example_Make_Model/raw_data/Example_Make_Model_SN01_raw.csv",
          "C:/Users/.../Documents/test_dir/Data and Figures/sensor_data/Example_Make_Model/raw_data/Example_Make_Model_SN02_raw.csv",
          "C:/Users/.../Documents/test_dir/Data and Figures/sensor_data/Example_Make_Model/raw_data/Example_Make_Model_SN03_raw.csv"
      ],
      "data_path": "C:/Users/.../Documents/test_dir/Data and Figures/sensor_data/Example_Make_Model/raw_data",
      "col_headers": {
          "col_idx_0": {
              "Time": {
                  "SDFS_param": "DateTime_UTC",
                  "files": [
                      "C:/Users/.../Documents/test_dir/Data and Figures/sensor_data/Example_Make_Model/raw_data/Example_Make_Model_SN01_raw.csv"
                      "C:/Users/.../Documents/test_dir/Data and Figures/sensor_data/Example_Make_Model/raw_data/Example_Make_Model_SN02_raw.csv",
                      "C:/Users/.../Documents/test_dir/Data and Figures/sensor_data/Example_Make_Model/raw_data/Example_Make_Model_SN03_raw.csv"
                  ]
              }
          },
          "col_idx_1": {
              "NO2 (ppb)": {
                  "SDFS_param": "NO2",
                  "files": [
                      "C:/Users/.../Documents/test_dir/Data and Figures/sensor_data/Example_Make_Model/raw_data/Example_Make_Model_SN01_raw.csv",
                      "C:/Users/.../Documents/test_dir/Data and Figures/sensor_data/Example_Make_Model/raw_data/Example_Make_Model_SN02_raw.csv",
                      "C:/Users/.../Documents/test_dir/Data and Figures/sensor_data/Example_Make_Model/raw_data/Example_Make_Model_SN03_raw.csv"
                  ]
              }
          },
          "col_idx_2": {
              "O3 (ppb)": {
                  "SDFS_param": "O3",
                  "files": [
                      "C:/Users/.../Documents/test_dir/Data and Figures/sensor_data/Example_Make_Model/raw_data/Example_Make_Model_SN01_raw.csv",
                      "C:/Users/.../Documents/test_dir/Data and Figures/sensor_data/Example_Make_Model/raw_data/Example_Make_Model_SN02_raw.csv",
                      "C:/Users/.../Documents/test_dir/Data and Figures/sensor_data/Example_Make_Model/raw_data/Example_Make_Model_SN03_raw.csv"
                  ]
              }
          },
          "col_idx_3": {
              "PM2.5 (\u00b5g/m\u00b3)": {
                  "SDFS_param": "PM25",
                  "files": [
                      "C:/Users/.../Documents/test_dir/Data and Figures/sensor_data/Example_Make_Model/raw_data/Example_Make_Model_SN01_raw.csv",
                      "C:/Users/.../Documents/test_dir/Data and Figures/sensor_data/Example_Make_Model/raw_data/Example_Make_Model_SN02_raw.csv",
                      "C:/Users/.../Documents/test_dir/Data and Figures/sensor_data/Example_Make_Model/raw_data/Example_Make_Model_SN03_raw.csv"
                  ]
              }
          },
          "col_idx_4": {
              "TEMP (\u00b0C)": {
                  "SDFS_param": "Temp",
                  "files": [
                      "C:/Users/.../Documents/test_dir/Data and Figures/sensor_data/Example_Make_Model/raw_data/Example_Make_Model_SN01_raw.csv",
                      "C:/Users/.../Documents/test_dir/Data and Figures/sensor_data/Example_Make_Model/raw_data/Example_Make_Model_SN02_raw.csv",
                      "C:/Users/.../Documents/test_dir/Data and Figures/sensor_data/Example_Make_Model/raw_data/Example_Make_Model_SN03_raw.csv"
                  ]
              }
          },
          "col_idx_5": {
              "RH (%)": {
                  "SDFS_param": "RH",
                  "files": [
                      "C:/Users/.../Documents/test_dir/Data and Figures/sensor_data/Example_Make_Model/raw_data/Example_Make_Model_SN01_raw.csv",
                      "C:/Users/.../Documents/test_dir/Data and Figures/sensor_data/Example_Make_Model/raw_data/Example_Make_Model_SN02_raw.csv",
                      "C:/Users/.../Documents/test_dir/Data and Figures/sensor_data/Example_Make_Model/raw_data/Example_Make_Model_SN03_raw.csv"
                  ]
              }
          },
          "col_idx_6": {
              "DP (\u00b0C)": {
                  "SDFS_param": "DP",
                  "files": [
                      "C:/Users/.../Documents/test_dir/Data and Figures/sensor_data/Example_Make_Model/raw_data/Example_Make_Model_SN01_raw.csv",
                      "C:/Users/.../Documents/test_dir/Data and Figures/sensor_data/Example_Make_Model/raw_data/Example_Make_Model_SN02_raw.csv",
                      "C:/Users/.../Documents/test_dir/Data and Figures/sensor_data/Example_Make_Model/raw_data/Example_Make_Model_SN03_raw.csv"
                  ]
              }
          },
          "col_idx_7": {
              "Inlet": {
                  "SDFS_param": "",
                  "files": [
                      "C:/Users/.../Documents/test_dir/Data and Figures/sensor_data/Example_Make_Model/raw_data/Example_Make_Model_SN01_raw.csv",
                      "C:/Users/.../Documents/test_dir/Data and Figures/sensor_data/Example_Make_Model/raw_data/Example_Make_Model_SN02_raw.csv",
                      "C:/Users/.../Documents/test_dir/Data and Figures/sensor_data/Example_Make_Model/raw_data/Example_Make_Model_SN03_raw.csv"
                  ]
              }
          }
      },
      "param_col_list": [
          "NO2 (ppb)",
          "O3 (ppb)",
          "PM2.5 (\u00b5g/m\u00b3)",
          "TEMP (\u00b0C)",
          "RH (%)",
          "DP (\u00b0C)",
          "Inlet"
      ],
      "time_format_dict": {
          "Time": "%Y/%m/%d %H:%M:%S"
      }
  }

Reference ``setup.json``
^^^^^^^^^^^^^^^^^^^^^^^^

The reference setup.json file is named ``reference_setup.json`` and is located within
the users' project directory in the following relative path:
``\Data and Figures\reference_data\[data_type]\[site_name]_[site_id]\reference_setup.json``,
where ``[data_type]`` is the name of the reference data source (i.e., 'airnowtech', 'local', etc.),
``['site_name']`` is the name of the monitoring site, where spaces have been replaced by '_', and
``[site_id]`` is the AQS site ID (if applicable).

Below is an example reference_setup.json for a reference monitor dataset corresponding
to EPA's RTP campus ambient monitoring site for air sensor testing. The sensor and
reference setup.json files share many similar attributes, however highlighted sections
of code correspond to reference or monitoring site specific attributes that are important
for creating a processed (R-DFS formatted) version of the reference dataset.

.. code-block:: json
  :emphasize-lines: 37-44, 133-142

  {
      "path": "C:\\Users\\SFREDE01\\OneDrive - Environmental Protection Agency (EPA)\\Profile\\Documents\\sensortoolkit_testing",
      "data_rel_path": "/Data and Figures/reference_data/local/raw/Burdens_Creek_370630099/",
      "data_type": "reference",
      "file_extension": ".csv",
      "header_iloc": 2,
      "data_row_idx": null,
      "sdfs_header_names": [
          "PM25",
          "PM10"
      ],
      "all_col_headers": [
          "Date & Time",
          "UV_633_370nm",
          "BC AE33 880nm",
          "Grimm PM2.5",
          "Grimm PM10",
          "GRIMM PM1",
          "T640_2_PM25",
          "T640_2_PM10"
      ],
      "timestamp_col_headers": [
          "Date & Time"
      ],
      "drop_cols": [
          "UV_633_370nm",
          "BC AE33 880nm",
          "Grimm PM2.5",
          "Grimm PM10",
          "GRIMM PM1"
      ],
      "dataset_kwargs": {
          "ref_data_source": "local",
          "site_name": "Burdens_Creek",
          "site_aqs": "370630099"
      },
      "agency": "OAQPS",
      "site_name": "Burdens Creek",
      "site_aqs": "37-063-0099",
      "site_lat": "35.8895",
      "site_lon": "-78.8746",
      "fmt_site_name": "Burdens_Creek",
      "fmt_site_aqs": "370630099",
      "ref_data_subfolder": "Burdens_Creek_370630099",
      "_dataset_selection": "files",
      "file_list": [
          "C:\\Users\\SFREDE01\\OneDrive - Environmental Protection Agency (EPA)\\Profile\\Documents\\sensortoolkit_testing\\Data and Figures\\reference_data\\local\\raw\\Burdens_Creek_370630099\\min_201908_PM.csv",
          "C:\\Users\\SFREDE01\\OneDrive - Environmental Protection Agency (EPA)\\Profile\\Documents\\sensortoolkit_testing\\Data and Figures\\reference_data\\local\\raw\\Burdens_Creek_370630099\\min_201909_PM.csv"
      ],
      "col_headers": {
          "col_idx_0": {
              "Date & Time": {
                  "SDFS_param": "DateTime_UTC",
                  "files": [
                      "C:\\Users\\SFREDE01\\OneDrive - Environmental Protection Agency (EPA)\\Profile\\Documents\\sensortoolkit_testing\\Data and Figures\\reference_data\\local\\raw\\Burdens_Creek_370630099\\min_201908_PM.csv",
                      "C:\\Users\\SFREDE01\\OneDrive - Environmental Protection Agency (EPA)\\Profile\\Documents\\sensortoolkit_testing\\Data and Figures\\reference_data\\local\\raw\\Burdens_Creek_370630099\\min_201909_PM.csv"
                  ]
              }
          },
          "col_idx_1": {
              "UV_633_370nm": {
                  "SDFS_param": "",
                  "files": [
                      "C:\\Users\\SFREDE01\\OneDrive - Environmental Protection Agency (EPA)\\Profile\\Documents\\sensortoolkit_testing\\Data and Figures\\reference_data\\local\\raw\\Burdens_Creek_370630099\\min_201908_PM.csv",
                      "C:\\Users\\SFREDE01\\OneDrive - Environmental Protection Agency (EPA)\\Profile\\Documents\\sensortoolkit_testing\\Data and Figures\\reference_data\\local\\raw\\Burdens_Creek_370630099\\min_201909_PM.csv"
                  ]
              }
          },
          "col_idx_2": {
              "BC AE33 880nm": {
                  "SDFS_param": "",
                  "files": [
                      "C:\\Users\\SFREDE01\\OneDrive - Environmental Protection Agency (EPA)\\Profile\\Documents\\sensortoolkit_testing\\Data and Figures\\reference_data\\local\\raw\\Burdens_Creek_370630099\\min_201908_PM.csv",
                      "C:\\Users\\SFREDE01\\OneDrive - Environmental Protection Agency (EPA)\\Profile\\Documents\\sensortoolkit_testing\\Data and Figures\\reference_data\\local\\raw\\Burdens_Creek_370630099\\min_201909_PM.csv"
                  ]
              }
          },
          "col_idx_3": {
              "Grimm PM2.5": {
                  "SDFS_param": "",
                  "files": [
                      "C:\\Users\\SFREDE01\\OneDrive - Environmental Protection Agency (EPA)\\Profile\\Documents\\sensortoolkit_testing\\Data and Figures\\reference_data\\local\\raw\\Burdens_Creek_370630099\\min_201908_PM.csv",
                      "C:\\Users\\SFREDE01\\OneDrive - Environmental Protection Agency (EPA)\\Profile\\Documents\\sensortoolkit_testing\\Data and Figures\\reference_data\\local\\raw\\Burdens_Creek_370630099\\min_201909_PM.csv"
                  ]
              }
          },
          "col_idx_4": {
              "Grimm PM10": {
                  "SDFS_param": "",
                  "files": [
                      "C:\\Users\\SFREDE01\\OneDrive - Environmental Protection Agency (EPA)\\Profile\\Documents\\sensortoolkit_testing\\Data and Figures\\reference_data\\local\\raw\\Burdens_Creek_370630099\\min_201908_PM.csv",
                      "C:\\Users\\SFREDE01\\OneDrive - Environmental Protection Agency (EPA)\\Profile\\Documents\\sensortoolkit_testing\\Data and Figures\\reference_data\\local\\raw\\Burdens_Creek_370630099\\min_201909_PM.csv"
                  ]
              }
          },
          "col_idx_5": {
              "GRIMM PM1": {
                  "SDFS_param": "",
                  "files": [
                      "C:\\Users\\SFREDE01\\OneDrive - Environmental Protection Agency (EPA)\\Profile\\Documents\\sensortoolkit_testing\\Data and Figures\\reference_data\\local\\raw\\Burdens_Creek_370630099\\min_201908_PM.csv",
                      "C:\\Users\\SFREDE01\\OneDrive - Environmental Protection Agency (EPA)\\Profile\\Documents\\sensortoolkit_testing\\Data and Figures\\reference_data\\local\\raw\\Burdens_Creek_370630099\\min_201909_PM.csv"
                  ]
              }
          },
          "col_idx_6": {
              "T640_2_PM25": {
                  "SDFS_param": "PM25",
                  "files": [
                      "C:\\Users\\SFREDE01\\OneDrive - Environmental Protection Agency (EPA)\\Profile\\Documents\\sensortoolkit_testing\\Data and Figures\\reference_data\\local\\raw\\Burdens_Creek_370630099\\min_201908_PM.csv",
                      "C:\\Users\\SFREDE01\\OneDrive - Environmental Protection Agency (EPA)\\Profile\\Documents\\sensortoolkit_testing\\Data and Figures\\reference_data\\local\\raw\\Burdens_Creek_370630099\\min_201909_PM.csv"
                  ]
              }
          },
          "col_idx_7": {
              "T640_2_PM10": {
                  "SDFS_param": "PM10",
                  "files": [
                      "C:\\Users\\SFREDE01\\OneDrive - Environmental Protection Agency (EPA)\\Profile\\Documents\\sensortoolkit_testing\\Data and Figures\\reference_data\\local\\raw\\Burdens_Creek_370630099\\min_201908_PM.csv",
                      "C:\\Users\\SFREDE01\\OneDrive - Environmental Protection Agency (EPA)\\Profile\\Documents\\sensortoolkit_testing\\Data and Figures\\reference_data\\local\\raw\\Burdens_Creek_370630099\\min_201909_PM.csv"
                  ]
              }
          }
      },
      "param_col_list": [
          "UV_633_370nm",
          "BC AE33 880nm",
          "Grimm PM2.5",
          "Grimm PM10",
          "GRIMM PM1",
          "T640_2_PM25",
          "T640_2_PM10"
      ],
      "PM25_Unit": "ug/m^3",
      "PM25_Param_Code": "ug/m^3",
      "PM25_Method_Code": 238,
      "PM25_Method": "Teledyne T640X at 16.67 LPM",
      "PM25_Method_POC": "1",
      "PM10_Unit": "ug/m^3",
      "PM10_Param_Code": "ug/m^3",
      "PM10_Method_Code": 239,
      "PM10_Method": "Teledyne API T640X at 16.67 LPM",
      "PM10_Method_POC": "1",
      "time_format_dict": {
          "Date & Time": "%-m/%-d/%Y %-I:%M %p"
      }
  }
