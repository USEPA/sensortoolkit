<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>sensortoolkit.reference._ref_api_query &mdash; sensortoolkit 0.8.2b4 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="sensortoolkit.reference._ref_api_query.date_range_selector" href="sensortoolkit.reference._ref_api_query.date_range_selector.html" />
    <link rel="prev" title="sensortoolkit.reference._load_ref_data.load_ref_dataframes" href="sensortoolkit.reference._load_ref_data.load_ref_dataframes.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> sensortoolkit
          </a>
              <div class="version">
                0.8.2b4
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Documentation Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart.html">Quickstart Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installing and Updating sensortoolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../import_sensortoolkit.html">Importing sensortoolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../testingattrib_objects/index.html">Testing Attribute Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../evaluation_objects/index.html">Evaluation Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../data_structures/index.html">Data Structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sdfs/index.html">sensortoolkit Data Formatting Scheme (SDFS)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Documentation</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">sensortoolkit API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../calculate.html"><code class="docutils literal notranslate"><span class="pre">sensortoolkit.calculate</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../datetime_utils.html"><code class="docutils literal notranslate"><span class="pre">sensortoolkit.datetime_utils</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../deploy.html"><code class="docutils literal notranslate"><span class="pre">sensortoolkit.deploy</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../evaluation_objs.html"><code class="docutils literal notranslate"><span class="pre">sensortoolkit.evaluation_objs</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../ingest.html"><code class="docutils literal notranslate"><span class="pre">sensortoolkit.ingest</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../lib_utils.html"><code class="docutils literal notranslate"><span class="pre">sensortoolkit.lib_utils</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../model.html"><code class="docutils literal notranslate"><span class="pre">sensortoolkit.model</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../param.html"><code class="docutils literal notranslate"><span class="pre">sensortoolkit.param</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../plotting.html"><code class="docutils literal notranslate"><span class="pre">sensortoolkit.plotting</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../qc.html"><code class="docutils literal notranslate"><span class="pre">sensortoolkit.qc</span></code></a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../reference.html"><code class="docutils literal notranslate"><span class="pre">sensortoolkit.reference</span></code></a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="sensortoolkit.reference._airnowtech_to_long.html">sensortoolkit.reference._airnowtech_to_long</a></li>
<li class="toctree-l3"><a class="reference internal" href="sensortoolkit.reference._import_airnowtech.html">sensortoolkit.reference._import_airnowtech</a></li>
<li class="toctree-l3"><a class="reference internal" href="sensortoolkit.reference._load_ref_data.html">sensortoolkit.reference._load_ref_data</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">sensortoolkit.reference._ref_api_query</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#resources">Resources</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../testing_attrib_objs.html"><code class="docutils literal notranslate"><span class="pre">sensortoolkit.testing_attrib_objs</span></code></a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">sensortoolkit</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index.html">sensortoolkit API</a> &raquo;</li>
          <li><a href="../reference.html"><code class="docutils literal notranslate"><span class="pre">sensortoolkit.reference</span></code></a> &raquo;</li>
      <li>sensortoolkit.reference._ref_api_query</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/api/_autosummary/sensortoolkit.reference._ref_api_query.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-sensortoolkit.reference._ref_api_query">
<span id="sensortoolkit-reference-ref-api-query"></span><h1>sensortoolkit.reference._ref_api_query<a class="headerlink" href="#module-sensortoolkit.reference._ref_api_query" title="Permalink to this headline"></a></h1>
<p>This module contains methods for querying reference data APIs, including the
AirNow and Air Quality System (AQS) API services.</p>
<p>These services are operated by the U.S. EPA, and users should have previously
registered with either service before submitting queries (authentication tokens
are required for each service to validate query requests).</p>
<section id="resources">
<h2>Resources<a class="headerlink" href="#resources" title="Permalink to this headline"></a></h2>
<ul>
<li><p><strong>AQS API documentation</strong>: <a class="reference external" href="https://aqs.epa.gov/aqsweb/documents/data_api.html">https://aqs.epa.gov/aqsweb/documents/data_api.html</a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Information about registering an account with the AQS API can be found under
the ‘Sign Up’ section.</p>
</div>
</li>
<li><p><strong>AirNow API documentation</strong>: <a class="reference external" href="https://docs.airnowapi.org/">https://docs.airnowapi.org/</a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Information about registering an account with the AirNow API can be
found at the following link (<a class="reference external" href="https://docs.airnowapi.org/account/request/">https://docs.airnowapi.org/account/request/</a>)</p>
</div>
</li>
</ul>
<hr class="docutils" />
<dl>
<dt>&#64;Author:</dt><dd><div class="line-block">
<div class="line">Samuel Frederick, NSSC Contractor (ORAU)</div>
<div class="line">U.S. EPA / ORD / CEMM / AMCD / SFSB</div>
</div>
</dd>
<dt>Created:</dt><dd><p>Mon May  3 12:56:38 2021</p>
</dd>
<dt>Last Updated:</dt><dd><p>Wed Jul 14 14:27:21 2021</p>
</dd>
</dl>
<p class="rubric">Functions</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="sensortoolkit.reference._ref_api_query.date_range_selector.html#sensortoolkit.reference._ref_api_query.date_range_selector" title="sensortoolkit.reference._ref_api_query.date_range_selector"><code class="xref py py-obj docutils literal notranslate"><span class="pre">date_range_selector</span></code></a></p></td>
<td><p>Generate two arrays (month_starts and month_ends) for which queries will be constructed in consecutive monthly segments.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="sensortoolkit.reference._ref_api_query.ingest_airnow.html#sensortoolkit.reference._ref_api_query.ingest_airnow" title="sensortoolkit.reference._ref_api_query.ingest_airnow"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ingest_airnow</span></code></a></p></td>
<td><p>Convert AirNow query data to SDFS formatted datasets.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="sensortoolkit.reference._ref_api_query.ingest_aqs.html#sensortoolkit.reference._ref_api_query.ingest_aqs" title="sensortoolkit.reference._ref_api_query.ingest_aqs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ingest_aqs</span></code></a></p></td>
<td><p>Convert AQS query data to SDFS formatted datasets.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="sensortoolkit.reference._ref_api_query.modify_ref_cols.html#sensortoolkit.reference._ref_api_query.modify_ref_cols" title="sensortoolkit.reference._ref_api_query.modify_ref_cols"><code class="xref py py-obj docutils literal notranslate"><span class="pre">modify_ref_cols</span></code></a></p></td>
<td><p>Modify the data type of columns in reference data and reorder columns.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="sensortoolkit.reference._ref_api_query.modify_ref_method_str.html#sensortoolkit.reference._ref_api_query.modify_ref_method_str" title="sensortoolkit.reference._ref_api_query.modify_ref_method_str"><code class="xref py py-obj docutils literal notranslate"><span class="pre">modify_ref_method_str</span></code></a></p></td>
<td><p>Subroutine for Ref_API_Query tha replaces various characters in data columns containing text, including the method name and the parameter units.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="sensortoolkit.reference._ref_api_query.parse_sample_data.html#sensortoolkit.reference._ref_api_query.parse_sample_data" title="sensortoolkit.reference._ref_api_query.parse_sample_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">parse_sample_data</span></code></a></p></td>
<td><p>Helper function for ingesting AQS <code class="docutils literal notranslate"><span class="pre">'sampleData'</span></code> queries.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="sensortoolkit.reference._ref_api_query.query_airnow.html#sensortoolkit.reference._ref_api_query.query_airnow" title="sensortoolkit.reference._ref_api_query.query_airnow"><code class="xref py py-obj docutils literal notranslate"><span class="pre">query_airnow</span></code></a></p></td>
<td><p>Construct an AirNow API query request and parse response.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="sensortoolkit.reference._ref_api_query.query_aqs.html#sensortoolkit.reference._ref_api_query.query_aqs" title="sensortoolkit.reference._ref_api_query.query_aqs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">query_aqs</span></code></a></p></td>
<td><p>Construct an AQS API query request and parse response.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="sensortoolkit.reference._ref_api_query.query_periods.html#sensortoolkit.reference._ref_api_query.query_periods" title="sensortoolkit.reference._ref_api_query.query_periods"><code class="xref py py-obj docutils literal notranslate"><span class="pre">query_periods</span></code></a></p></td>
<td><p>Generate a dictionary with consecutive monthly intervals to query where dates are formatted a little differently depending on the API to query.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="sensortoolkit.reference._ref_api_query.ref_api_query.html#sensortoolkit.reference._ref_api_query.ref_api_query" title="sensortoolkit.reference._ref_api_query.ref_api_query"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ref_api_query</span></code></a></p></td>
<td><p>Wrapper function for sending an API data query to either the AQS or AirNow API for a specified parameter (<code class="docutils literal notranslate"><span class="pre">param</span></code>).</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="sensortoolkit.reference._ref_api_query.save_api_dataset.html#sensortoolkit.reference._ref_api_query.save_api_dataset" title="sensortoolkit.reference._ref_api_query.save_api_dataset"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_api_dataset</span></code></a></p></td>
<td><p>Save processed datasets at regular monthly intervals.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="sensortoolkit.reference._ref_api_query.select_poc.html#sensortoolkit.reference._ref_api_query.select_poc" title="sensortoolkit.reference._ref_api_query.select_poc"><code class="xref py py-obj docutils literal notranslate"><span class="pre">select_poc</span></code></a></p></td>
<td><p>Ask the user for a single POC if multiple codes present in dataset.</p></td>
</tr>
</tbody>
</table>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="sensortoolkit.reference._load_ref_data.load_ref_dataframes.html" class="btn btn-neutral float-left" title="sensortoolkit.reference._load_ref_data.load_ref_dataframes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="sensortoolkit.reference._ref_api_query.date_range_selector.html" class="btn btn-neutral float-right" title="sensortoolkit.reference._ref_api_query.date_range_selector" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, United States Environmental Protection Agency.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>